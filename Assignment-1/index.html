<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" href="/src/assets/images/logo.jpg" />
  <link href="/src/css/style.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="/cdn/jquery.css" />

  <script src="/src/js/tailwind3.3.3.js"></script>
  <script src="/cdn/goggleapi.js"></script>

  <title>Masterkey Technologies ltd</title>

</head>

<body class="flex justify-center items-center min-h-screen">
  <div id="partition-container" class="flex border-4 border-gray-500 bg-[#006400]">
    <div class="partition flex items-center justify-center">
      <button class="bg-red-500 px-3 rounded-md text-white m-1" onclick="HandlePartition(this, 'v')">V</button>
      <button class="bg-purple-500 px-3 rounded-md text-white m-1" onclick="HandlePartition(this, 'h')">H</button>
      <button class="bg-gray-500 px-3 rounded-md text-white m-1" onclick="RemovePartition(this)">-</button>
    </div>
  </div>

  <script>

    const colors = ["#228B22", "#32CD32", "#00FF00", "#7CFC00", "#7FFF00", "#ADFF2F", "#90EE90", "#98FB98", "#8FBC8F"];
    let colorIndex = 0;

    function getColor() {
      const color = colors[colorIndex];
      colorIndex = (colorIndex + 1) % colors.length;
      return color;
    }

    HandlePartition = function (button, part) {
      const parent = $(button).closest('.partition');

      const newPartition = $(`
          <div class="partition border flex items-center justify-center" style="background-color: ${getColor()};">
            <button class="bg-red-500 px-3 rounded-md text-white m-1" onclick="HandlePartition(this, 'v')">V</button>
            <button class="bg-purple-500 px-3 rounded-md text-white m-1" onclick="HandlePartition(this, 'h')">H</button>
            <button class="bg-gray-500 px-3 rounded-md text-white m-1" onclick="RemovePartition(this)">-</button>
          </div>
        `);

      if (part === 'v') {
        parent.addClass('flex-row').append(newPartition);
      } else if (part === 'h') {
        parent.addClass('flex-col').append(newPartition);
      }
    }

    RemovePartition = function (button) {
      $(button).closest('.partition').remove();
    }

    $("#partition-container").sortable({
      items: ".partition",
      containment: "parent"
    });

  </script>
  <script src="/cdn/jquery.js"></script>
</body>


</body>

</html>